# PowStampの利用シーンの考察

PowStampは、クライアントからサーバへの処理要求に付帯します。
アクセス条件はクライアントでPowStampを計算するためのパラメータです。


利用シーンは3通りを想定しています。


## 同期システム(双方向)

クライアントは任意のタイミングでサーバーがクライアントに要求するアクセス条件を確認することができます。  
PowStampは常にサーバの提示するアクセス条件に一致させなければなりません。  
リクエストの結果は即座に取得可能ですが、通信に失敗した場合は結果不明の場合もあります。

クライアントはリクエストの送信前にアクセス条件を確認するべきであり、リクエストの送信後にアクセス条件を更新するべきです。
サーバは、クライアントのアクセス条件を予測不能な形で更新することができます。


## 非同期システム(片方向)

サーバの認証状況を確認できない片方向システムの場合、クライアントが既知なのは、事前にプリセットしたアクセス条件だけです。  
初回を除き、アクセス条件はクライアント単独で予測可能でなければなりません。

リクエストの結果は常に不明です。サーバのアクセス条件の更新は、クライアントの状態に依存します。


## 混合システム

基本的には片方向システムですが、任意のタイミングで双方向システムとして同期を取るシステムです。

クライアントは同期のタイミングでアクセス条件をサーバの状態にロールバックします。
