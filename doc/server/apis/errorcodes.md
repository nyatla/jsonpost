# APIエラーコード一覧

APIが生成するアプリケーションエラーコードの一覧です。
エラーコードは詳細理由を示すコードです。

HTTPステータスコードと組み合わせて対応を判断することができます。

## HTTPステータスコード

- 20x リクエストは成功しました。アプリケーションエラーコードはありません。
- 40x クライアントに責任のある問題です。クライアントが対処できることができます。
- 50x サーバーに責任のある問題です。解決まで待つ必要があります。クライアントの努力は報われません。


## アプリケーションエラーコード

アプリケーションエラーコードは以下の通り


### 未分類
- 000 未分類のエラー

### リクエストエラー
- 101 許可されていないリクエスト。(HTTP405)
- 102 URLパラメータの構成が誤っている。
- 103 URLパラメータの値が誤っている。

### 認証エラー
- 201 このリクエストにはPowStampが必要。
- 202 PowStampのフォーマット不良。
- 203 ECDSA署名が誤っている。
- 204 Nonceが不正。※hint有  {current:n}
- 205 PoW計算値が規定値未満。※hint有 {required:n request:m}


hintはエラー解決の参考になる情報です。リトライする場合に使用するべきです。

### 入力データエラー
- 301 リクエストBodyの形式不良(そもそも読めない、存在しない)
- 302 リクエストBodyの値不足(内容が不十分)
- 303 リクエストBodyの値不良(内容が間違っている)
- 304 リクエストBodyが大きすぎる。(HTTP411)


### レコードエラー

- 401 対象となる情報がなかった。

### システムエラー
- 501 システムは初期化済み(heavensdoor)
- 



エラー時のJSONフォーマットは以下の通り


⁻ 


# JSONフォーマット



```
{
    "success":false,
    "error":{
        "code":0,
        "message":"Intelligence readable text.",
        "hint":null,
    }
}
```

エラーが発生したときのsuccessは常にfalseです。
errorにはcodeとmessageが含まれます。codeはアプリケーションエラーコードです。
messageは知性体向けの可読文章です。この情報はエラーの内容の判定に使用すべきではありません。
hintは問題解決のための数値情報です。いくつかのアプリケーションエラーコードではこの数値が有効です。

## hint

アプリケーションエラーコード204,205の場合は、hintの数値を参考にリクエストを作り直すことができます。

### 204
PoWStampのメッセージ順位を示すnonce値に不備があります。hintにはリクエストの時点で受け入れ可能なnonce値の最低値が示されます。この値を超える数値を再設定してください。

### 205
PoWStampのハッシングスコア順位を示すpownonce値に不備があります。hintにはリクエストの現時点で必要だったハッシングスコアが示されます。このスコアを下回る値を再度ハッシングしてください。
